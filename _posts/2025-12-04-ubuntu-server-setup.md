---
title: "집에있는 노트북으로 우분투 서버 구축"
date: 2025-12-04
last_modified_at: 2025-12-04
categories:
  - Server
tags:
  - Server
  - Ubuntu
sidebar:
  nav: "sidebar-category"
---

## 0. 서버가 가지고싶다

외주받은 프로젝트가 어느정도 마무리되고, 유지보수로 넘어가기 직전의 안정된 상태로 들어서자,
새로운 사이드 프로젝트가 하고싶다는 생각이 들었다.
사이드 프로젝트로는 새로운 시도를 해보고 싶다는 목표가 생겼고,
리눅스 공부도 할 겸 나만의 서버를 만들어보고 싶다는 생각이 들어 사용하지 않던 노트북을 꺼냇다.

## 1. 우분투 설치

- 우분투 서버 설치를 위해 ISO를 다운받고, Rufus를 사용해 부팅디스크로 만들었다.
  - 우분투 ISO : [https://ubuntu.com/download/server](https://ubuntu.com/download/server)
  - Rufus : [https://rufus.ie/ko/](https://rufus.ie/ko/)

## 2. 네트워크 세팅

이 부분에서 제일 많은 시간을 할당한 것 같다. 막연하게 공부했던 네트워크 지식을 현실로 마주하니 상당히 햇갈리고 어려웠다.
일단 **포트포워딩** 이라는 개념을 알아야했는데, 
포트포워딩은 외부 네트워크에서 특정 포트로 들어오는 요청을 내부 네트워크의 지정된 장치와 포트로 전달하는 기술이다.
외부에서 서버에 접근하기 위해서는 특정 약속(포트포워딩)을 할당하여, 특정 포트의 요청이 들어오면 내부 기기로 요청을 전달 해준다.
이 개념을 숙지하고 들어가자.
본인은 LG U+를 사용하고 있기에, 예시는 LG U+ 기준으로 작성한다.

- [192.168.219.1](http://192.168.219.1)(LG U+ 기준)으로 접속하여, 공유기에 접속한다.
  ![ 공유기 1 ](/assets/png/공유기1.png)

- 서버 노트북이 접속하는 IP주소를 DHCP 고정 할당으로 추가한다.
  ```jsx
    DHCP란? 
    - 네트워크에 연결된 장치(클라이언트)에 IP 주소와 서브넷 마스크, 기본 게이트웨이, DNS 서버 주소 등 네트워크 설정을 자동으로 할당해 주는 프로토콜이다. 
  ```
  고정 할당이 되어있지 않으면 자동할당 기한이 만료될 떄 마다 새로 포트포워딩을 해줘야했다.
  ![ 공유기 2 ](/assets/png/공유기2.png)

- 네트워크 설정으로 포트포워딩을 진행
  네트워크를 사용하는 서비스마다 다른 포트를 설정해서 포트포워딩을 진행했다.
  MySQL은 3306 포트, Redis는 6379, 웹 애플리케이션은 8080, Docker는 5000번, Kafka는 9092, 9999, 2181 포트를 할당하였다.

## 3. 서버 환경 세팅

이제 이 서버의 원격 접근할 수 있도록 SSH를 열어줘야 한다.

```jsx
  SSH란?
  '보안 셸'의 약자로, 원격 컴퓨터에 안전하게 접속하여 명령을 실행하거나 파일을 복사할 수 있게 해주는 기존 보안에 취약한 텔넷을 대체하기 위한 네트워크 프로토콜이다.
```
다음 명령어를 순서대로 입력해주자.

```jsx
  1. ssh 설치 

  sudo apt update
  sudo apt install openssh-server

  2. ssh 서비스 상태 확인

  sudo systemctl status ssh

  3. ssh 서비스 기동

  sudo systemctl start ssh

  4. 부팅 시 서비스 자동 시작 설정

  sudo systemctl enable ssh

  5. ssh 설정 변경 하기 (옵션)

  cd /etc/ssh • sudo nano sshd_config • 해당 파일 내 설정 중 Port라고 적힌 부분이 있다. 그곳에 자신이 원하는 포트를 적으면 앞으로 ssh 접속 시 해당 포트로 접속하여야 한다. • PermitRootLogin 설정은 root 계정으로 접속을 허용하는 설정이다. no로 입력하면 root계정으로 원격접속이 불가능하다. • AllowUsers {사용자 계정} 설정은 입력한 계정으로만 ssh 접속이 허용된다. • 설정이 끝났다면, sudo systemctl restart ssh 를 통해 반드시 서비스 재시작을 해 줘야 한다.

  6. 방화벽에서 포트 허용 하기

  sudo ufw allow {ssh 포트번호} (기본값은 22임)
  sudo ufw enable

  7. 연결 테스트

  ssh {사용자계정}@{서버IP} 
  만약 포트를 22가 아닌 다른 것으로 설정했다면 -> ssh -p {포트번호} {사용자계정}@{서버IP}
```
출처: [https://clsrn4561.tistory.com/25](https://clsrn4561.tistory.com/25)

## 후기

  이제 외부컴퓨터로 접속이 가능한지 확인하면 된다.
  ![ 서버 접속 성공 ](/assets/png/서버%20접속%20성공.png)
  생각보다 어려웠고, 생각보다 더 재미있었다!
  그저 공부로만 접하던 네트워크 지식을 실전으로 부딫히며 사용하니 이해가 훨신 깊어진 기분이 들었다.
  이제 다음에는 서버에 Docker을 설치하고 진행을 해보려고 한다.

